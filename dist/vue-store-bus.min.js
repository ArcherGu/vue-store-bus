/*!
 * vue-store-bus v1.0.0
 * https://github.com/yangmingshan/vue-bus
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).VueStoreBus=e()}(this,function(){"use strict";function t(t,e){var o=new t({router:e,mixins:"object"==typeof e?[{watch:{$route:function(t,e){t.path!==e.path&&e.path===this.currentStore.route&&(this.destroyNameSpace(this.currentStore.namespace),this.currentStore.namespace=void 0,this.currentStore.route=void 0)}}}]:[],data:{busStore:{},currentStore:{namespace:void 0,route:void 0}},methods:{createNameSpace:function(t){void 0===this.busStore[t]&&(this.$set(this.busStore,t,{}),"object"==typeof this.$route&&(this.currentStore.namespace=t,this.currentStore.route=this.$route.path))},destroyNameSpace:function(t){this.$delete(this.busStore,t)},getNameSpaceVal:function(t){return void 0===this.busStore[t]?void console.error("不存在的命名空间！"):this.busStore[t]},setVal:function(t,e){var o=t.split("/");if(o&&o.lenght<2)return console.error("你必须指定一个命名空间！"),!1;void 0===this.busStore[o[0]]&&this.createNameSpace(o[0]),void 0===this.busStore[o[0]][o[1]]?this.$set(this.busStore[o[0]],o[1],e):this.busStore[o[0]][o[1]]=e},getVal:function(t,e){void 0===e&&(e=void 0);var o=t.split("/");return o&&o.lenght<2?(console.error("你必须指定一个命名空间！"),!1):void 0===this.busStore[o[0]]||void 0===this.busStore[o[0]][o[1]]?e:this.busStore[o[0]][o[1]]},delVal:function(t){var e=t.split("/");return e&&e.lenght<2?(console.error("你必须指定一个命名空间！"),!1):void 0===this.busStore[e[0]]?(console.error("不存在的命名空间！"),!1):void this.$delete(this.busStore[e[0]],e[1])},getStore:function(){return this.busStore}}});Object.defineProperties(o,{on:{get:function(){return this.$on.bind(this)}},once:{get:function(){return this.$once.bind(this)}},off:{get:function(){return this.$off.bind(this)}},emit:{get:function(){return this.$emit.bind(this)}}}),Object.defineProperty(t,"bus",{get:function(){return o}}),Object.defineProperty(t.prototype,"$bus",{get:function(){return o}})}return"undefined"!=typeof window&&window.Vue&&window.Vue.use(t),t});