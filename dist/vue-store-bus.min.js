/*!
 * vue-store-bus v1.0.0
 * https://github.com/ArcherGu/vue-store-bus.git
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VueStoreBus=t()}(this,function(){"use strict";function e(e,t){var o=new e({router:t,mixins:"object"==typeof t?[{watch:{$route:function(e,t){e.path!==t.path&&t.path===this.currentStore.route&&(this.destroyNameSpace(this.currentStore.namespace),this.currentStore.namespace=void 0,this.currentStore.route=void 0)}}}]:[],data:{busStore:{},currentStore:{namespace:void 0,route:void 0}},methods:{createNameSpace:function(e){void 0===this.busStore[e]&&(this.$set(this.busStore,e,{}),"object"==typeof this.$route&&(this.currentStore.namespace=e,this.currentStore.route=this.$route.path))},destroyNameSpace:function(e){this.$delete(this.busStore,e)},getNameSpaceVal:function(e){if(void 0!==this.busStore[e])return this.busStore[e];console.error("Non-existing namespace!")},setVal:function(e,t){var o=e.split("/");o&&o.lenght<2?console.error("You have to add a namespace!"):(void 0===this.busStore[o[0]]&&this.createNameSpace(o[0]),void 0===this.busStore[o[0]][o[1]]?this.$set(this.busStore[o[0]],o[1],t):this.busStore[o[0]][o[1]]=t)},getVal:function(e,t){void 0===t&&(t=void 0);var o=e.split("/");if(!(o&&o.lenght<2))return void 0===this.busStore[o[0]]||void 0===this.busStore[o[0]][o[1]]?t:this.busStore[o[0]][o[1]];console.error("You must specify a namespace!")},delVal:function(e){var t=e.split("/");t&&t.lenght<2?console.error("You must specify a namespace!"):void 0!==this.busStore[t[0]]?this.$delete(this.busStore[t[0]],t[1]):console.error("Non-existing namespace!")},getStore:function(){return this.busStore}}});Object.defineProperties(o,{on:{get:function(){return this.$on.bind(this)}},once:{get:function(){return this.$once.bind(this)}},off:{get:function(){return this.$off.bind(this)}},emit:{get:function(){return this.$emit.bind(this)}}}),Object.defineProperty(e,"bus",{get:function(){return o}}),Object.defineProperty(e.prototype,"$bus",{get:function(){return o}})}return"undefined"!=typeof window&&window.Vue&&window.Vue.use(e),e});